/**
 * oclazyload - Load modules on demand (lazy load) with angularJS
 * @version v1.0.9
 * @link https://github.com/ocombe/ocLazyLoad
 * @license MIT
 * @author Olivier Combe <olivier.combe@gmail.com>
 */
(function(n,t){"use strict";var u=["ng","oc.lazyLoad"],r={},l=[],i=[],a=[],e=[],o=n.noop,s={},c=[],y=n.module("oc.lazyLoad",["ng"]),v,h,f;y.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(v,y,p,w,b,k){function ft(t,i,r){var l,e,h,v,y,p;if(i){for(v=[],l=i.length-1;l>=0;l--)if(e=i[l],n.isString(e)||(e=ht(e)),e&&c.indexOf(e)===-1&&(!d[e]||a.indexOf(e)!==-1)){if(y=u.indexOf(e)===-1,h=f(e),y&&(u.push(e),ft(t,h.requires,r)),h._runBlocks.length>0)for(s[e]=[];h._runBlocks.length>0;)s[e].push(h._runBlocks.shift());n.isDefined(s[e])&&(y||r.rerun)&&(v=v.concat(s[e]));nt(t,h._invokeQueue,e,r.reconfig);nt(t,h._configBlocks,e,r.reconfig);o(y?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",e);i.pop();c.push(e)}p=t.getInstanceInjector();n.forEach(v,function(n){p.invoke(n)})}}function st(t,i){function c(t,i){var r=!0,u;return i.length&&(u=h(t),n.forEach(i,function(n){r=r&&h(n)!==u})),r}function h(t){return n.isArray(t)?tt(t.toString()):n.isObject(t)?tt(ut(t)):n.isDefined(t)&&t!==null?tt(t.toString()):t}var f=t[2][0],u=t[1],s=!1,e;if(n.isUndefined(r[i])&&(r[i]={}),n.isUndefined(r[i][u])&&(r[i][u]={}),e=function(n,t){r[i][u].hasOwnProperty(n)||(r[i][u][n]=[]);c(t,r[i][u][n])&&(s=!0,r[i][u][n].push(t),o("ocLazyLoad.componentLoaded",[i,u,n]))},n.isString(f))e(f,t[2][1]);else if(n.isObject(f))n.forEach(f,function(t,i){n.isString(t)?e(t,f[1]):e(i,t)});else return!1;return s}function nt(t,i,r,u){var s,c,f,e,a,h,o,v;if(i)for(s=0,c=i.length;s<c;s++)if(f=i[s],n.isArray(f)){if(t!==null)if(t.hasOwnProperty(f[0]))e=t[f[0]];else throw new Error("unsupported provider "+f[0]);if(a=st(f,r),f[1]!=="invoke")a&&n.isDefined(e)&&e[f[1]].apply(e,f[2]);else if(h=function(t){var i=l.indexOf(r+"-"+t);(i===-1||u)&&(i===-1&&l.push(r+"-"+t),n.isDefined(e)&&e[f[1]].apply(e,f[2]))},n.isFunction(f[2][0]))h(f[2][0]);else if(n.isArray(f[2][0]))for(o=0,v=f[2][0].length;o<v;o++)n.isFunction(f[2][0][o])&&h(f[2][0][o])}}function ht(t){var i=null;return n.isString(t)?i=t:n.isObject(t)&&t.hasOwnProperty("name")&&n.isString(t.name)&&(i=t.name),i}function ct(t){if(!n.isString(t))return!1;try{return f(t)}catch(i){if(/No module/.test(i)||i.message.indexOf("$injector:nomod")>-1)return!1}}var d={},et={$controllerProvider:v,$compileProvider:p,$filterProvider:w,$provide:y,$injector:b,$animateProvider:k},it=!1,ot=!1,g=[],rt={},ut,tt;g.push=function(n){this.indexOf(n)===-1&&Array.prototype.push.apply(this,arguments)};this.config=function(t){n.isDefined(t.modules)&&(n.isArray(t.modules)?n.forEach(t.modules,function(n){d[n.name]=n}):d[t.modules.name]=t.modules);n.isDefined(t.debug)&&(it=t.debug);n.isDefined(t.events)&&(ot=t.events)};this._init=function(r){var s;if(i.length===0){var h=[r],o=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,f=function(n){return n&&h.push(n)};n.forEach(o,function(t){o[t]=!0;f(document.getElementById(t));t=t.replace(":","\\:");typeof r[0]!="undefined"&&r[0].querySelectorAll&&(n.forEach(r[0].querySelectorAll("."+t),f),n.forEach(r[0].querySelectorAll("."+t+"\\:"),f),n.forEach(r[0].querySelectorAll("["+t+"]"),f))});n.forEach(h,function(t){if(i.length===0){var f=" "+r.className+" ",u=c.exec(f);u?i.push((u[2]||"").replace(/\s+/g,",")):n.forEach(t.attributes,function(n){i.length===0&&o[n.name]&&i.push(n.value)})}})}i.length!==0||(t.jasmine||t.mocha)&&n.isDefined(n.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");s=function s(t){if(u.indexOf(t)===-1){u.push(t);var i=n.module(t);nt(null,i._invokeQueue,t);nt(null,i._configBlocks,t);n.forEach(i.requires,s)}};n.forEach(i,function(n){s(n)});i=[];e.pop()};ut=function(t){try{return JSON.stringify(t)}catch(r){var i=[];return JSON.stringify(t,function(t,r){if(n.isObject(r)&&r!==null){if(i.indexOf(r)!==-1)return;i.push(r)}return r})}};tt=function(n){var t=0,i,r,u;if(n.length==0)return t;for(i=0,u=n.length;i<u;i++)r=n.charCodeAt(i),t=(t<<5)-t+r|0;return t};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(t,s,l,a,v){function p(n){var i=v.defer();return t.error(n.message),i.reject(n),i.promise}var y,w=a("ocLazyLoad");return it||(t={},t.error=n.noop,t.warn=n.noop,t.info=n.noop),et.getInstanceInjector=function(){return y?y:y=s.data("$injector")||n.injector()},o=function(n,i){ot&&l.$broadcast(n,i);it&&t.info(n,i)},{_broadcast:o,_$log:t,_getFilesCache:function(){return w},toggleWatch:function(n){n?e.push(!0):e.pop()},getModuleConfig:function(t){if(!n.isString(t))throw new Error("You need to give the name of the module to get");return d[t]?n.copy(d[t]):null},setModuleConfig:function(t){if(!n.isObject(t))throw new Error("You need to give the module config object to set");return d[t.name]=t,t},getModules:function(){return u},isLoaded:function(t){var f=function(n){var t=u.indexOf(n)>-1;return t||(t=!!ct(n)),t},i,r;if(n.isString(t)&&(t=[t]),n.isArray(t)){for(i=0,r=t.length;i<r;i++)if(!f(t[i]))return!1;return!0}throw new Error("You need to define the module(s) name(s)");},_getModuleName:ht,_getModule:function(n){try{return f(n)}catch(t){(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)&&(t.message='The module "'+ut(n)+'" that you are trying to load does not exist. '+t.message);throw t;}},moduleExists:ct,_loadDependencies:function(t,i){var e,o,u,f=[],r=this;if(t=r._getModuleName(t),t===null)return v.when();try{e=r._getModule(t)}catch(s){return p(s)}return o=r.getRequires(e),n.forEach(o,function(e){var s,o;if(n.isString(e)){if(s=r.getModuleConfig(e),s===null){g.push(e);return}e=s;s.name=undefined}if(r.moduleExists(e.name)){if(u=e.files.filter(function(n){return r.getModuleConfig(e.name).files.indexOf(n)<0}),u.length!==0&&r._$log.warn('Module "',t,'" attempted to redefine configuration for dependency. "',e.name,'"\n Additional Files Loaded:',u),n.isDefined(r.filesLoader))f.push(r.filesLoader(e,i).then(function(){return r._loadDependencies(e)}));else return p(new Error("Error: New dependencies need to be loaded from external files ("+e.files+"), but no loader has been defined."));return}if(n.isArray(e)?(o=[],n.forEach(e,function(n){var t=r.getModuleConfig(n);t===null?o.push(n):t.files&&(o=o.concat(t.files))}),o.length>0&&(e={files:o})):n.isObject(e)&&e.hasOwnProperty("name")&&e.name&&(r.setModuleConfig(e),g.push(e.name)),n.isDefined(e.files)&&e.files.length!==0)if(n.isDefined(r.filesLoader))f.push(r.filesLoader(e,i).then(function(){return r._loadDependencies(e)}));else return p(new Error('Error: the module "'+e.name+'" is defined in external files ('+e.files+"), but no loader has been defined."))}),v.all(f)},inject:function(t){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],s=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],f=this,u=v.defer(),e,h,o;if(n.isDefined(t)&&t!==null){if(n.isArray(t))return e=[],n.forEach(t,function(n){e.push(f.inject(n,r,s))}),v.all(e);f._addToLoadList(f._getModuleName(t),!0,s)}if(i.length>0)h=i.slice(),o=function o(n){g.push(n);rt[n]=u.promise;f._loadDependencies(n,r).then(function(){try{c=[];ft(et,g,r)}catch(n){f._$log.error(n.message);u.reject(n);return}i.length>0?o(i.shift()):u.resolve(h)},function(n){u.reject(n)})},o(i.shift());else{if(r&&r.name&&rt[r.name])return rt[r.name];u.resolve()}return u.promise},getRequires:function(t){var i=[];return n.forEach(t.requires,function(n){u.indexOf(n)===-1&&i.push(n)}),i},_invokeQueue:nt,_registerInvokeList:st,_register:ft,_addToLoadList:h,_unregister:function(t){n.isDefined(t)&&n.isArray(t)&&n.forEach(t,function(n){r[n]=undefined})}}}];this._init(n.element(t.document))}]);v=n.bootstrap;n.bootstrap=function(t,i,r){return n.forEach(i.slice(),function(n){h(n,!0,!0)}),v(t,i,r)};h=function(t,r,u){(e.length>0||r)&&n.isString(t)&&i.indexOf(t)===-1&&(i.push(t),u&&a.push(t))};f=n.module;n.module=function(n,t,i){return h(n,!1,!0),f(n,t,i)};typeof module!="undefined"&&typeof exports!="undefined"&&module.exports===exports&&(module.exports="oc.lazyLoad")})(angular,window),function(n){"use strict";n.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(t,i,r,u){return{restrict:"A",terminal:!0,priority:1e3,compile:function(f){var e=f[0].innerHTML;return f.html(""),function(f,o,s){var h=u(s.ocLazyLoad);f.$watch(function(){return h(f)||s.ocLazyLoad},function(u){n.isDefined(u)&&t.load(u).then(function(){r.enter(e,o);i(o.contents())(f)})},!0)}}}}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(t,i,r,u){var e=!1,f=!1,o=r.document.getElementsByTagName("head")[0]||r.document.getElementsByTagName("body")[0];return t.buildElement=function(s,h,c){var v=i.defer(),l,d,y=t._getFilesCache(),g=function(n){var t=(new Date).getTime();return n.indexOf("?")>=0?n.substring(0,n.length-1)==="&"?n+"_dc="+t:n+"&_dc="+t:n+"?_dc="+t},p,w,a,b,nt,tt,k,it,rt;n.isUndefined(y.get(h))&&y.put(h,v.promise);switch(s){case"css":l=r.document.createElement("link");l.type="text/css";l.rel="stylesheet";l.href=c.cache===!1?g(h):h;break;case"js":l=r.document.createElement("script");l.src=c.cache===!1?g(h):h;break;default:y.remove(h);v.reject(new Error('Requested type "'+s+'" is not known. Could not inject "'+h+'"'))}return l.onload=l.onreadystatechange=function(){l.readyState&&!/^c|loade/.test(l.readyState)||d||(l.onload=l.onreadystatechange=null,d=1,t._broadcast("ocLazyLoad.fileLoaded",h),v.resolve())},l.onerror=function(){y.remove(h);v.reject(new Error("Unable to load "+h))},l.async=c.serie?0:1,p=o.lastChild,c.insertBefore&&(w=n.element(n.isDefined(window.jQuery)?c.insertBefore:document.querySelector(c.insertBefore)),w&&w.length>0&&(p=w[0])),p.parentNode.insertBefore(l,p),s=="css"&&(e||(a=r.navigator.userAgent.toLowerCase(),/iP(hone|od|ad)/.test(r.navigator.platform)?(b=r.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),nt=parseFloat([parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)].join(".")),f=nt<6):a.indexOf("android")>-1?(tt=parseFloat(a.slice(a.indexOf("android")+8)),f=tt<4.4):a.indexOf("safari")>-1&&(k=a.match(/version\/([\.\d]+)/i),f=k&&k[1]&&parseFloat(k[1])<6)),f&&(it=1e3,rt=u(function(){try{l.sheet.cssRules;u.cancel(rt);l.onload()}catch(n){--it<=0&&l.onerror()}},20))),v.promise},t}])}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,i){return t.filesLoader=function(r){var u=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],e=[],o=[],s=[],f=[],h=null,w=t._getFilesCache(),v,c,l,a,y,p;return t.toggleWatch(!0),n.extend(u,r),v=function(i){var r=null,c;if(n.isObject(i)&&(r=i.type,i=i.path),h=w.get(i),n.isUndefined(h)||u.cache===!1){if((c=/^(css|less|html|htm|js)?(?=!)/.exec(i))!==null&&(r=c[1],i=i.substr(c[1].length+1,i.length)),!r)if((c=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(i))!==null)r=c[1];else if(!t.jsLoader.hasOwnProperty("ocLazyLoadLoader")&&t.jsLoader.hasOwnProperty("requirejs"))r="js";else{t._$log.error("File type could not be determined. "+i);return}(r==="css"||r==="less")&&e.indexOf(i)===-1?e.push(i):(r==="html"||r==="htm")&&o.indexOf(i)===-1?o.push(i):r==="js"||s.indexOf(i)===-1?s.push(i):t._$log.error("File type is not valid. "+i)}else h&&f.push(h)},u.serie?v(u.files.shift()):n.forEach(u.files,function(n){v(n)}),e.length>0&&(c=i.defer(),t.cssLoader(e,function(i){n.isDefined(i)&&t.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(i),c.reject(i)):c.resolve()},u),f.push(c.promise)),o.length>0&&(l=i.defer(),t.templatesLoader(o,function(i){n.isDefined(i)&&t.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(i),l.reject(i)):l.resolve()},u),f.push(l.promise)),s.length>0&&(a=i.defer(),t.jsLoader(s,function(i){n.isDefined(i)&&(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||t.jsLoader.hasOwnProperty("requirejs"))?(t._$log.error(i),a.reject(i)):a.resolve()},u),f.push(a.promise)),f.length===0?(y=i.defer(),p="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.",t._$log.error(p),y.reject(p),y.promise):u.serie&&u.files.length>0?i.all(f).then(function(){return t.filesLoader(r,u)}):i.all(f)["finally"](function(n){return t.toggleWatch(!1),n})},t.load=function(r){var v=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=this,u=null,c=[],e=i.defer(),h,f=n.copy(r),l=n.copy(v),a,s;return n.isArray(f)?(n.forEach(f,function(n){c.push(o.load(n,l))}),i.all(c).then(function(n){e.resolve(n)},function(n){e.reject(n)}),e.promise):(n.isString(f)?(u=o.getModuleConfig(f),u||(u={files:[f]})):n.isObject(f)&&(u=n.isDefined(f.path)&&n.isDefined(f.type)?{files:[f]}:o.setModuleConfig(f)),u===null)?(a=o._getModuleName(f),h='Module "'+(a||"unknown")+'" is not configured, cannot load.',t._$log.error(h),e.reject(new Error(h)),e.promise):(n.isDefined(u.template)&&(n.isUndefined(u.files)&&(u.files=[]),n.isString(u.template)?u.files.push(u.template):n.isArray(u.template)&&u.files.concat(u.template)),s=n.extend({},l,u),n.isUndefined(u.files)&&n.isDefined(u.name)&&t.moduleExists(u.name))?t.inject(u.name,s,!0):(t.filesLoader(u,s).then(function(){t.inject(null,s).then(function(n){e.resolve(n)},function(n){e.reject(n)})},function(n){e.reject(n)}),e.promise)},t}])}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,i){return t.cssLoader=function(r,u,f){var e=[];n.forEach(r,function(n){e.push(t.buildElement("css",n,f))});i.all(e).then(function(){u()},function(n){u(n)})},t.cssLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,i){return t.jsLoader=function(r,u,f){var e=[];n.forEach(r,function(n){e.push(t.buildElement("js",n,f))});i.all(e).then(function(){u()},function(n){u(n)})},t.jsLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(n){"use strict";n.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(t,i,r,u){return t.templatesLoader=function(f,e,o){var s=[],h=t._getFilesCache();return n.forEach(f,function(t){var f=r.defer();s.push(f.promise);u.get(t,o).success(function(r){n.isString(r)&&r.length>0&&n.forEach(n.element(r),function(n){n.nodeName==="SCRIPT"&&n.type==="text/ng-template"&&i.put(n.id,n.innerHTML)});n.isUndefined(h.get(t))&&h.put(t,!0);f.resolve()}).error(function(n){f.reject(new Error('Unable to load template file "'+t+'": '+n))})}),r.all(s).then(function(){e()},function(n){e(n)})},t.templatesLoader.ocLazyLoadLoader=!0,t}])}])}(angular);Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){var r,f,u,i;if(this==null)throw new TypeError('"this" is null or not defined');if((f=Object(this),u=f.length>>>0,u===0)||(i=+t||0,Math.abs(i)===Infinity&&(i=0),i>=u))return-1;for(r=Math.max(i>=0?i:u-Math.abs(i),0);r<u;){if(r in f&&f[r]===n)return r;r++}return-1});
//# sourceMappingURL=ocLazyLoad.min.js.map
